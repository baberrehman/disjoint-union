% generated by Ott 0.30 from: ../spec/rules.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{var} ,\, \ottmv{x} $ &  \\
 $ \ottmv{i} $ &  \\
}}

\newcommand{\otttyp}{
\ottrulehead{\ottnt{typ}  ,\ \ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}  ,\ \ottnt{D}}{::=}{\ottcom{type}}\ottprodnewline
\ottfirstprodline{|}{ \top }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{Int} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{Bool} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{Str} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bot }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \rightarrow  \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \vee  \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \wedge  \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{A}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottexp}{
\ottrulehead{\ottnt{exp}  ,\ \ottnt{e}  ,\ \ottnt{v}  ,\ \ottnt{p}}{::=}{\ottcom{expression}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{i}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{b}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{s}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e}  \ottsym{:}  \ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}}{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; \ottnt{e}}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ typeof \  \ottnt{e}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{e}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottctx}{
\ottrulehead{\ottnt{ctx}  ,\ \Gamma}{::=}{\ottcom{typing context}}\ottprodnewline
\ottfirstprodline{|}{ \cdot }{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \ottsym{,}  \Gamma_{{\mathrm{1}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \Gamma_{{\mathrm{1}}}}{}{}{}{}}

\newcommand{\ottdirflag}{
\ottrulehead{\Leftrightarrow}{::=}{\ottcom{typing direction}}\ottprodnewline
\ottfirstprodline{|}{ \Rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Leftarrow }{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttyp\ottinterrule
\ottexp\ottinterrule
\ottctx\ottinterrule
\ottdirflag\ottafterlastrule
}}

% defnss
% defns PreValue
%% defn pexpr
\newcommand{\ottdrulepexprXXint}[1]{\ottdrule[#1]{%
}{
  }{%
{\ottdrulename{pexpr\_int}}{}%
}}


\newcommand{\ottdrulepexprXXbool}[1]{\ottdrule[#1]{%
}{
  }{%
{\ottdrulename{pexpr\_bool}}{}%
}}


\newcommand{\ottdrulepexprXXstr}[1]{\ottdrule[#1]{%
}{
  }{%
{\ottdrulename{pexpr\_str}}{}%
}}


\newcommand{\ottdrulepexprXXabs}[1]{\ottdrule[#1]{%
}{
  }{%
{\ottdrulename{pexpr\_abs}}{}%
}}

\newcommand{\ottdefnpexpr}[1]{\begin{ottdefnblock}[#1]{$  $}{\ottcom{PreValues}}
\ottusedrule{\ottdrulepexprXXint{}}
\ottusedrule{\ottdrulepexprXXbool{}}
\ottusedrule{\ottdrulepexprXXstr{}}
\ottusedrule{\ottdrulepexprXXabs{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsPreValue}{
\ottdefnpexpr{}}

% defns Value
%% defn value
\newcommand{\ottdrulevalueXXval}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
\ottkw{value} \, \ottnt{p}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulename{value\_val}}{}%
}}

\newcommand{\ottdefnvalue}[1]{\begin{ottdefnblock}[#1]{$\ottkw{value} \, \ottnt{e}$}{\ottcom{Values}}
\ottusedrule{\ottdrulevalueXXval{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsValue}{
\ottdefnvalue{}}

% defns FindType
%% defn findtype
\newcommand{\ottdrulefindtypeXXint}[1]{\ottdrule[#1]{%
}{
 FindType \ \  \ottmv{i}  \ \   \mathsf{Int}  }{%
{\ottdrulename{findtype\_int}}{}%
}}


\newcommand{\ottdrulefindtypeXXbool}[1]{\ottdrule[#1]{%
}{
 FindType \ \  \ottkw{b}  \ \   \mathsf{Bool}  }{%
{\ottdrulename{findtype\_bool}}{}%
}}


\newcommand{\ottdrulefindtypeXXstr}[1]{\ottdrule[#1]{%
}{
 FindType \ \  \ottkw{s}  \ \   \mathsf{Str}  }{%
{\ottdrulename{findtype\_str}}{}%
}}


\newcommand{\ottdrulefindtypeXXarrow}[1]{\ottdrule[#1]{%
}{
 FindType \ \  \ottsym{(}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B}  \ottsym{)}  \ \  \ottsym{(}  \ottnt{A}  \rightarrow  \ottnt{B}  \ottsym{)} }{%
{\ottdrulename{findtype\_arrow}}{}%
}}

\newcommand{\ottdefnfindtype}[1]{\begin{ottdefnblock}[#1]{$ FindType \ \  \ottnt{p}  \ \  \ottnt{A} $}{\ottcom{FindType}}
\ottusedrule{\ottdrulefindtypeXXint{}}
\ottusedrule{\ottdrulefindtypeXXbool{}}
\ottusedrule{\ottdrulefindtypeXXstr{}}
\ottusedrule{\ottdrulefindtypeXXarrow{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsFindType}{
\ottdefnfindtype{}}

% defns FindSubTypes
%% defn fs

\newcommand{\ottdefnfs}[1]{\begin{ottdefnblock}[#1]{$ | \ottnt{A} | $}{\ottcom{FindSubTypes}}
\end{ottdefnblock}}


\newcommand{\ottdefnsFindSubTypes}{
\ottdefnfs{}}

% defns FindSubTypesEmpty
%% defn fse

\newcommand{\ottdefnfse}[1]{\begin{ottdefnblock}[#1]{$ | \ottnt{A} | = [] $}{}
\end{ottdefnblock}}


\newcommand{\ottdefnsFindSubTypesEmpty}{
\ottdefnfse{}}

% defns Ordinary
%% defn ordinary
\newcommand{\ottdruleordXXtop}[1]{\ottdrule[#1]{%
}{
 Ord ~   \top  }{%
{\ottdrulename{ord\_top}}{}%
}}


\newcommand{\ottdruleordXXint}[1]{\ottdrule[#1]{%
}{
 Ord ~   \mathsf{Int}  }{%
{\ottdrulename{ord\_int}}{}%
}}


\newcommand{\ottdruleordXXbool}[1]{\ottdrule[#1]{%
}{
 Ord ~   \mathsf{Bool}  }{%
{\ottdrulename{ord\_bool}}{}%
}}


\newcommand{\ottdruleordXXstr}[1]{\ottdrule[#1]{%
}{
 Ord ~   \mathsf{Str}  }{%
{\ottdrulename{ord\_str}}{}%
}}


\newcommand{\ottdruleordXXarrow}[1]{\ottdrule[#1]{%
}{
 Ord ~  \ottnt{A}  \rightarrow  \ottnt{B} }{%
{\ottdrulename{ord\_arrow}}{}%
}}

\newcommand{\ottdefnordinary}[1]{\begin{ottdefnblock}[#1]{$ Ord ~  \ottnt{A} $}{\ottcom{Ordinary Types}}
\ottusedrule{\ottdruleordXXtop{}}
\ottusedrule{\ottdruleordXXint{}}
\ottusedrule{\ottdruleordXXbool{}}
\ottusedrule{\ottdruleordXXstr{}}
\ottusedrule{\ottdruleordXXarrow{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOrdinary}{
\ottdefnordinary{}}

% defns DisjointnessSpec
%% defn disjointnessspec

\newcommand{\ottdefndisjointnessspec}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A}  *_s  \ottnt{B} $}{\ottcom{DisjointnessSpec}}
\end{ottdefnblock}}


\newcommand{\ottdefnsDisjointnessSpec}{
\ottdefndisjointnessspec{}}

% defns BottomLikeSpec
%% defn btmlikespec

\newcommand{\ottdefnbtmlikespec}[1]{\begin{ottdefnblock}[#1]{$ \rfloor  \ottnt{A}  \lfloor_s $}{\ottcom{BottomLikeSpec}}
\end{ottdefnblock}}


\newcommand{\ottdefnsBottomLikeSpec}{
\ottdefnbtmlikespec{}}

% defns BottomLike
%% defn bottomlike
\newcommand{\ottdruleblXXbot}[1]{\ottdrule[#1]{%
}{
 \rfloor   \bot   \lfloor }{%
{\ottdrulename{bl\_bot}}{}%
}}


\newcommand{\ottdruleblXXor}[1]{\ottdrule[#1]{%
\ottpremise{ \rfloor  \ottnt{A}  \lfloor }%
\ottpremise{ \rfloor  \ottnt{B}  \lfloor }%
}{
 \rfloor  \ottnt{A}  \vee  \ottnt{B}  \lfloor }{%
{\ottdrulename{bl\_or}}{}%
}}


\newcommand{\ottdruleblXXandl}[1]{\ottdrule[#1]{%
\ottpremise{ \rfloor  \ottnt{A}  \lfloor }%
}{
 \rfloor  \ottnt{A}  \wedge  \ottnt{B}  \lfloor }{%
{\ottdrulename{bl\_andl}}{}%
}}


\newcommand{\ottdruleblXXandr}[1]{\ottdrule[#1]{%
\ottpremise{ \rfloor  \ottnt{B}  \lfloor }%
}{
 \rfloor  \ottnt{A}  \wedge  \ottnt{B}  \lfloor }{%
{\ottdrulename{bl\_andr}}{}%
}}


\newcommand{\ottdruleblXXandsub}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{B} }%
}{
 \rfloor  \ottnt{A}  \wedge  \ottnt{B}  \lfloor }{%
{\ottdrulename{bl\_andsub}}{}%
}}

\newcommand{\ottdefnbottomlike}[1]{\begin{ottdefnblock}[#1]{$ \rfloor  \ottnt{A}  \lfloor $}{\ottcom{Bottom-Like Types}}
\ottusedrule{\ottdruleblXXbot{}}
\ottusedrule{\ottdruleblXXor{}}
\ottusedrule{\ottdruleblXXandl{}}
\ottusedrule{\ottdruleblXXandr{}}
\ottusedrule{\ottdruleblXXandsub{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsBottomLike}{
\ottdefnbottomlike{}}

% defns Disjointness
%% defn disjointness
\newcommand{\ottdruleadXXbtmr}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  *_a   \bot  }{%
{\ottdrulename{ad\_btmr}}{}%
}}


\newcommand{\ottdruleadXXbtml}[1]{\ottdrule[#1]{%
}{
  \bot   *_a  \ottnt{A} }{%
{\ottdrulename{ad\_btml}}{}%
}}


\newcommand{\ottdruleadXXintl}[1]{\ottdrule[#1]{%
}{
  \mathsf{Int}   *_a  \ottnt{A}  \rightarrow  \ottnt{B} }{%
{\ottdrulename{ad\_intl}}{}%
}}


\newcommand{\ottdruleadXXintr}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \rightarrow  \ottnt{B}  *_a   \mathsf{Int}  }{%
{\ottdrulename{ad\_intr}}{}%
}}


\newcommand{\ottdruleadXXorl}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{C} }%
\ottpremise{ \ottnt{B}  *_a  \ottnt{C} }%
}{
 \ottnt{A}  \vee  \ottnt{B}  *_a  \ottnt{C} }{%
{\ottdrulename{ad\_orl}}{}%
}}


\newcommand{\ottdruleadXXorr}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{B} }%
\ottpremise{ \ottnt{A}  *_a  \ottnt{C} }%
}{
 \ottnt{A}  *_a  \ottnt{B}  \vee  \ottnt{C} }{%
{\ottdrulename{ad\_orr}}{}%
}}


\newcommand{\ottdruleadXXandla}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{C} }%
}{
 \ottnt{A}  \wedge  \ottnt{B}  *_a  \ottnt{C} }{%
{\ottdrulename{ad\_andla}}{}%
}}


\newcommand{\ottdruleadXXandlb}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B}  *_a  \ottnt{C} }%
}{
 \ottnt{A}  \wedge  \ottnt{B}  *_a  \ottnt{C} }{%
{\ottdrulename{ad\_andlb}}{}%
}}


\newcommand{\ottdruleadXXandra}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{B} }%
}{
 \ottnt{A}  *_a  \ottnt{B}  \wedge  \ottnt{C} }{%
{\ottdrulename{ad\_andra}}{}%
}}


\newcommand{\ottdruleadXXandrb}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  *_a  \ottnt{C} }%
}{
 \ottnt{A}  *_a  \ottnt{B}  \wedge  \ottnt{C} }{%
{\ottdrulename{ad\_andrb}}{}%
}}


\newcommand{\ottdruleadXXdisjl}[1]{\ottdrule[#1]{%
\ottpremise{ | \ottsym{(}  \ottnt{A}  \wedge  \ottnt{B}  \ottsym{)} | }%
}{
 \ottnt{A}  *_a  \ottnt{B} }{%
{\ottdrulename{ad\_disjl}}{}%
}}


\newcommand{\ottdruleadXXdisjr}[1]{\ottdrule[#1]{%
\ottpremise{ | \ottsym{(}  \ottnt{B}  \wedge  \ottnt{A}  \ottsym{)} | }%
}{
 \ottnt{A}  *_a  \ottnt{B} }{%
{\ottdrulename{ad\_disjr}}{}%
}}

\newcommand{\ottdefndisjointness}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A}  *_a  \ottnt{B} $}{\ottcom{Disjointness}}
\ottusedrule{\ottdruleadXXbtmr{}}
\ottusedrule{\ottdruleadXXbtml{}}
\ottusedrule{\ottdruleadXXintl{}}
\ottusedrule{\ottdruleadXXintr{}}
\ottusedrule{\ottdruleadXXorl{}}
\ottusedrule{\ottdruleadXXorr{}}
\ottusedrule{\ottdruleadXXandla{}}
\ottusedrule{\ottdruleadXXandlb{}}
\ottusedrule{\ottdruleadXXandra{}}
\ottusedrule{\ottdruleadXXandrb{}}
\ottusedrule{\ottdruleadXXdisjl{}}
\ottusedrule{\ottdruleadXXdisjr{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsDisjointness}{
\ottdefndisjointness{}}

% defns Subtyping
%% defn subtyping
\newcommand{\ottdrulesXXtop}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  <:   \top  }{%
{\ottdrulename{s\_top}}{}%
}}


\newcommand{\ottdrulesXXbot}[1]{\ottdrule[#1]{%
}{
  \bot   <:  \ottnt{A} }{%
{\ottdrulename{s\_bot}}{}%
}}


\newcommand{\ottdrulesXXint}[1]{\ottdrule[#1]{%
}{
  \mathsf{Int}   <:   \mathsf{Int}  }{%
{\ottdrulename{s\_int}}{}%
}}


\newcommand{\ottdrulesXXbool}[1]{\ottdrule[#1]{%
}{
  \mathsf{Bool}   <:   \mathsf{Bool}  }{%
{\ottdrulename{s\_bool}}{}%
}}


\newcommand{\ottdrulesXXstr}[1]{\ottdrule[#1]{%
}{
  \mathsf{Str}   <:   \mathsf{Str}  }{%
{\ottdrulename{s\_str}}{}%
}}


\newcommand{\ottdrulesXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{B_{{\mathrm{1}}}}  <:  \ottnt{A_{{\mathrm{1}}}} }%
\ottpremise{ \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{B_{{\mathrm{2}}}} }%
}{
 \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{B_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulename{s\_arrow}}{}%
}}


\newcommand{\ottdrulesXXora}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A_{{\mathrm{1}}}}  <:  \ottnt{A} }%
\ottpremise{ \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{A} }%
}{
 \ottnt{A_{{\mathrm{1}}}}  \vee  \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{A} }{%
{\ottdrulename{s\_ora}}{}%
}}


\newcommand{\ottdrulesXXorb}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  <:  \ottnt{A_{{\mathrm{1}}}} }%
}{
 \ottnt{A}  <:  \ottnt{A_{{\mathrm{1}}}}  \vee  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulename{s\_orb}}{}%
}}


\newcommand{\ottdrulesXXorc}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  <:  \ottnt{A_{{\mathrm{2}}}} }%
}{
 \ottnt{A}  <:  \ottnt{A_{{\mathrm{1}}}}  \vee  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulename{s\_orc}}{}%
}}


\newcommand{\ottdrulesXXanda}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A}  <:  \ottnt{A_{{\mathrm{1}}}} }%
\ottpremise{ \ottnt{A}  <:  \ottnt{A_{{\mathrm{2}}}} }%
}{
 \ottnt{A}  <:  \ottnt{A_{{\mathrm{1}}}}  \wedge  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulename{s\_anda}}{}%
}}


\newcommand{\ottdrulesXXandb}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A_{{\mathrm{1}}}}  <:  \ottnt{A} }%
}{
 \ottnt{A_{{\mathrm{1}}}}  \wedge  \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{A} }{%
{\ottdrulename{s\_andb}}{}%
}}


\newcommand{\ottdrulesXXandc}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{A} }%
}{
 \ottnt{A_{{\mathrm{1}}}}  \wedge  \ottnt{A_{{\mathrm{2}}}}  <:  \ottnt{A} }{%
{\ottdrulename{s\_andc}}{}%
}}


\newcommand{\ottdrulesXXdisj}[1]{\ottdrule[#1]{%
\ottpremise{ | \ottnt{A} | = [] }%
}{
 \ottnt{A}  <:  \ottnt{B} }{%
{\ottdrulename{s\_disj}}{}%
}}

\newcommand{\ottdefnsubtyping}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A}  <:  \ottnt{B} $}{\ottcom{Subtyping}}
\ottusedrule{\ottdrulesXXtop{}}
\ottusedrule{\ottdrulesXXbot{}}
\ottusedrule{\ottdrulesXXint{}}
\ottusedrule{\ottdrulesXXbool{}}
\ottusedrule{\ottdrulesXXstr{}}
\ottusedrule{\ottdrulesXXarrow{}}
\ottusedrule{\ottdrulesXXora{}}
\ottusedrule{\ottdrulesXXorb{}}
\ottusedrule{\ottdrulesXXorc{}}
\ottusedrule{\ottdrulesXXanda{}}
\ottusedrule{\ottdrulesXXandb{}}
\ottusedrule{\ottdrulesXXandc{}}
\ottusedrule{\ottdrulesXXdisj{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSubtyping}{
\ottdefnsubtyping{}}

% defns Typing
%% defn typing
\newcommand{\ottdruletypXXint}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
\Gamma  \vdash  \ottmv{i} \,  \Rightarrow  \,  \mathsf{Int} }{%
{\ottdrulename{typ\_int}}{}%
}}


\newcommand{\ottdruletypXXbool}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
\Gamma  \vdash  \ottkw{b} \,  \Rightarrow  \,  \mathsf{Bool} }{%
{\ottdrulename{typ\_bool}}{}%
}}


\newcommand{\ottdruletypXXstr}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
\Gamma  \vdash  \ottkw{s} \,  \Rightarrow  \,  \mathsf{Str} }{%
{\ottdrulename{typ\_str}}{}%
}}


\newcommand{\ottdruletypXXvar}[1]{\ottdrule[#1]{%
\ottpremise{  }%
\ottpremise{\ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma}%
}{
\Gamma  \vdash  \ottmv{x} \,  \Rightarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_var}}{}%
}}


\newcommand{\ottdruletypXXann}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}}%
}{
\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \ottnt{A} \,  \Rightarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_ann}}{}%
}}


\newcommand{\ottdruletypXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}} \,  \Rightarrow  \, \ottnt{A}  \rightarrow  \ottnt{B}}%
\ottpremise{\Gamma  \vdash  \ottnt{e_{{\mathrm{2}}}} \,  \Leftarrow  \, \ottnt{A}}%
}{
\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}} \,  \Rightarrow  \, \ottnt{B}}{%
{\ottdrulename{typ\_app}}{}%
}}


\newcommand{\ottdruletypXXsub}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e} \,  \Rightarrow  \, \ottnt{B}}%
\ottpremise{ \ottnt{B}  <:  \ottnt{A} }%
}{
\Gamma  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_sub}}{}%
}}


\newcommand{\ottdruletypXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{B}}%
}{
\Gamma  \vdash  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}  \rightarrow  \ottnt{B}}{%
{\ottdrulename{typ\_abs}}{}%
}}


\newcommand{\ottdruletypXXtypeof}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}  \vee  \ottnt{B}}%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{e_{{\mathrm{1}}}} \,  \Leftarrow  \, \ottnt{C}}%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{B}  \vdash  \ottnt{e_{{\mathrm{2}}}} \,  \Leftarrow  \, \ottnt{C}}%
\ottpremise{ \ottnt{A}  *_s  \ottnt{B} }%
}{
\Gamma  \vdash   typeof \  \ottnt{e}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}}  \,  \Leftarrow  \, \ottnt{C}}{%
{\ottdrulename{typ\_typeof}}{}%
}}

\newcommand{\ottdefntyping}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{e} \, \Leftrightarrow \, \ottnt{A}$}{\ottcom{Typing Rules}}
\ottusedrule{\ottdruletypXXint{}}
\ottusedrule{\ottdruletypXXbool{}}
\ottusedrule{\ottdruletypXXstr{}}
\ottusedrule{\ottdruletypXXvar{}}
\ottusedrule{\ottdruletypXXann{}}
\ottusedrule{\ottdruletypXXapp{}}
\ottusedrule{\ottdruletypXXsub{}}
\ottusedrule{\ottdruletypXXabs{}}
\ottusedrule{\ottdruletypXXtypeof{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTyping}{
\ottdefntyping{}}

% defns Reduction
%% defn step
\newcommand{\ottdrulestepXXint}[1]{\ottdrule[#1]{%
}{
 \ottmv{i}  \longrightarrow  \ottmv{i}  \ottsym{:}   \mathsf{Int}  }{%
{\ottdrulename{step\_int}}{}%
}}


\newcommand{\ottdrulestepXXbool}[1]{\ottdrule[#1]{%
}{
 \ottkw{b}  \longrightarrow  \ottkw{b}  \ottsym{:}   \mathsf{Bool}  }{%
{\ottdrulename{step\_bool}}{}%
}}


\newcommand{\ottdrulestepXXstr}[1]{\ottdrule[#1]{%
}{
 \ottkw{s}  \longrightarrow  \ottkw{s}  \ottsym{:}   \mathsf{Str}  }{%
{\ottdrulename{step\_str}}{}%
}}


\newcommand{\ottdrulestepXXappl}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{e_{{\mathrm{1}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}} }%
}{
 \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}} }{%
{\ottdrulename{step\_appl}}{}%
}}


\newcommand{\ottdrulestepXXappr}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{e}  \longrightarrow  \ottnt{e'} }%
}{
 \ottnt{v} \, \ottnt{e}  \longrightarrow  \ottnt{v} \, \ottnt{e'} }{%
{\ottdrulename{step\_appr}}{}%
}}


\newcommand{\ottdrulestepXXbeta}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}  \ottsym{)} \, \ottsym{(}  \ottnt{p}  \ottsym{:}  \ottnt{C}  \ottsym{)}  \longrightarrow  \ottsym{(}  \ottsym{(}  \ottnt{e}  \ottsym{[}  \ottmv{x}  \leadsto  \ottnt{p}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{)}  \ottsym{:}  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{:}  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulename{step\_beta}}{}%
}}


\newcommand{\ottdrulestepXXabsbeta}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}  \ottsym{)} \, \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e_{{\mathrm{2}}}}  \ottsym{)}  \longrightarrow  \ottsym{(}  \ottsym{(}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \leadsto  \ottsym{(}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{)}  \ottsym{:}  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{:}  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulename{step\_absbeta}}{}%
}}


\newcommand{\ottdrulestepXXann}[1]{\ottdrule[#1]{%
\ottpremise{ \neg  \ottkw{value} \, \ottnt{e}  \ottsym{:}  \ottnt{A} }%
\ottpremise{ \ottnt{e}  \longrightarrow  \ottnt{e'} }%
}{
 \ottnt{e}  \ottsym{:}  \ottnt{A}  \longrightarrow  \ottnt{e'}  \ottsym{:}  \ottnt{A} }{%
{\ottdrulename{step\_ann}}{}%
}}


\newcommand{\ottdrulestepXXrmann}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
 \ottnt{p}  \ottsym{:}  \ottnt{A}  \ottsym{:}  \ottnt{B}  \longrightarrow  \ottnt{p}  \ottsym{:}  \ottnt{B} }{%
{\ottdrulename{step\_rmann}}{}%
}}


\newcommand{\ottdrulestepXXlamann}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B}  \longrightarrow  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B} }{%
{\ottdrulename{step\_lamann}}{}%
}}


\newcommand{\ottdrulestepXXtypeof}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{e}  \longrightarrow  \ottnt{e'} }%
}{
  typeof \  \ottnt{e}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}}   \longrightarrow   typeof \  \ottnt{e'}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}}  }{%
{\ottdrulename{step\_typeof}}{}%
}}


\newcommand{\ottdrulestepXXtypeofl}[1]{\ottdrule[#1]{%
\ottpremise{  }%
\ottpremise{ FindType \ \  \ottnt{p}  \ \  \ottnt{C} }%
\ottpremise{ \ottnt{C}  <:  \ottnt{A} }%
}{
  typeof \  \ottsym{(}  \ottnt{p}  \ottsym{:}  \ottnt{D}  \ottsym{)}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}}   \longrightarrow  \ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \leadsto  \ottnt{p}  \ottsym{:}  \ottnt{A}  \ottsym{]} }{%
{\ottdrulename{step\_typeofl}}{}%
}}


\newcommand{\ottdrulestepXXtypeofr}[1]{\ottdrule[#1]{%
\ottpremise{  }%
\ottpremise{ FindType \ \  \ottnt{p}  \ \  \ottnt{C} }%
\ottpremise{ \ottnt{C}  <:  \ottnt{B} }%
}{
  typeof \  \ottsym{(}  \ottnt{p}  \ottsym{:}  \ottnt{D}  \ottsym{)}  \ as \  \ottnt{A}  \  \ottnt{e_{{\mathrm{1}}}}  \  \ottnt{B}  \  \ottnt{e_{{\mathrm{2}}}}   \longrightarrow  \ottnt{e_{{\mathrm{2}}}}  \ottsym{[}  \ottmv{x}  \leadsto  \ottnt{p}  \ottsym{:}  \ottnt{B}  \ottsym{]} }{%
{\ottdrulename{step\_typeofr}}{}%
}}

\newcommand{\ottdefnstep}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{e}  \longrightarrow  \ottnt{e'} $}{\ottcom{Small-step operational semantics}}
\ottusedrule{\ottdrulestepXXint{}}
\ottusedrule{\ottdrulestepXXbool{}}
\ottusedrule{\ottdrulestepXXstr{}}
\ottusedrule{\ottdrulestepXXappl{}}
\ottusedrule{\ottdrulestepXXappr{}}
\ottusedrule{\ottdrulestepXXbeta{}}
\ottusedrule{\ottdrulestepXXabsbeta{}}
\ottusedrule{\ottdrulestepXXann{}}
\ottusedrule{\ottdrulestepXXrmann{}}
\ottusedrule{\ottdrulestepXXlamann{}}
\ottusedrule{\ottdrulestepXXtypeof{}}
\ottusedrule{\ottdrulestepXXtypeofl{}}
\ottusedrule{\ottdrulestepXXtypeofr{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsReduction}{
\ottdefnstep{}}

\newcommand{\ottdefnss}{
\ottdefnsPreValue
\ottdefnsValue
\ottdefnsFindType
\ottdefnsFindSubTypes
\ottdefnsFindSubTypesEmpty
\ottdefnsOrdinary
\ottdefnsDisjointnessSpec
\ottdefnsBottomLikeSpec
\ottdefnsBottomLike
\ottdefnsDisjointness
\ottdefnsSubtyping
\ottdefnsTyping
\ottdefnsReduction
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

