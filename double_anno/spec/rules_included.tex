% generated by Ott 0.30 from: rules.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{var} ,\, \ottmv{x} $ &  \\
 $ \ottmv{i} $ &  \\
}}

\newcommand{\otttyp}{
\ottrulehead{\ottnt{typ}  ,\ \ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}}{::=}{\ottcom{type}}\ottprodnewline
\ottfirstprodline{|}{ \mathsf{Int} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \rightarrow  \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \vee  \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{A}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottexp}{
\ottrulehead{\ottnt{exp}  ,\ \ottnt{e}}{::=}{\ottcom{expression}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{i}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e}  \ottsym{:}  \ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}}{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; \ottnt{e}}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{e}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \leadsto  \ottnt{e_{{\mathrm{2}}}}  \ottsym{]}} {\textsf{M}}{}{}{}}

\newcommand{\ottctx}{
\ottrulehead{\ottnt{ctx}  ,\ \Gamma}{::=}{\ottcom{typing context}}\ottprodnewline
\ottfirstprodline{|}{ \cdot }{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}}{}{}{}{}}

\newcommand{\ottdirflag}{
\ottrulehead{\ottnt{dirflag}}{::=}{\ottcom{typing direction}}\ottprodnewline
\ottfirstprodline{|}{ \Rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Leftarrow }{}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \lambda }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \longrightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \leadsto }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vee }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{Int}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \in }{}{}{}{}\ottprodnewline
\ottprodline{|}{ ; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{fv}\! }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{  }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x} \, \ottkw{notin} \, \mathsf{fv}\! \, \ottnt{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottmv{x}  \notin  \Gamma }{}{}{}{}}

\newcommand{\ottValue}{
\ottrulehead{\ottnt{Value}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{value} \, \ottnt{e}}{}{}{}{\ottcom{Values}}}

\newcommand{\ottInfterm}{
\ottrulehead{\ottnt{Infterm}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{infterm} \, \ottnt{e}}{}{}{}{\ottcom{Inferable terms}}}

\newcommand{\ottTyping}{
\ottrulehead{\ottnt{Typing}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Gamma  \vdash  \ottnt{e} \, \ottnt{dirflag} \, \ottnt{A}}{}{}{}{\ottcom{Typing rules}}}

\newcommand{\ottSteping}{
\ottrulehead{\ottnt{Steping}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{e}  \longrightarrow  \ottnt{e'}}{}{}{}{\ottcom{Small-step operational semantics}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{Value}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Infterm}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Typing}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Steping}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{var}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{i}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{typ}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{ctx}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{dirflag}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttyp\ottinterrule
\ottexp\ottinterrule
\ottctx\ottinterrule
\ottdirflag\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottValue\ottinterrule
\ottInfterm\ottinterrule
\ottTyping\ottinterrule
\ottSteping\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns Value
%% defn value
\newcommand{\ottdrulevalueXXlit}[1]{\ottdrule[#1]{%
}{
\ottkw{value} \, \ottmv{i}}{%
{\ottdrulename{value\_lit}}{}%
}}


\newcommand{\ottdrulevalueXXann}[1]{\ottdrule[#1]{%
}{
\ottkw{value} \, \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B}}{%
{\ottdrulename{value\_ann}}{}%
}}

\newcommand{\ottdefnvalue}[1]{\begin{ottdefnblock}[#1]{$\ottkw{value} \, \ottnt{e}$}{\ottcom{Values}}
\ottusedrule{\ottdrulevalueXXlit{}}
\ottusedrule{\ottdrulevalueXXann{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsValue}{
\ottdefnvalue{}}

% defns Infterm
%% defn infterm
\newcommand{\ottdruleinftXXlit}[1]{\ottdrule[#1]{%
}{
\ottkw{infterm} \, \ottmv{i}}{%
{\ottdrulename{inft\_lit}}{}%
}}


\newcommand{\ottdruleinftXXapp}[1]{\ottdrule[#1]{%
}{
\ottkw{infterm} \, \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{inft\_app}}{}%
}}

\newcommand{\ottdefninfterm}[1]{\begin{ottdefnblock}[#1]{$\ottkw{infterm} \, \ottnt{e}$}{\ottcom{Inferable terms}}
\ottusedrule{\ottdruleinftXXlit{}}
\ottusedrule{\ottdruleinftXXapp{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsInfterm}{
\ottdefninfterm{}}

% defns Typing
%% defn typing
\newcommand{\ottdruletypXXlit}[1]{\ottdrule[#1]{%
\ottpremise{  }%
}{
\Gamma  \vdash  \ottmv{i} \,  \Rightarrow  \,  \mathsf{Int} }{%
{\ottdrulename{typ\_lit}}{}%
}}


\newcommand{\ottdruletypXXvar}[1]{\ottdrule[#1]{%
\ottpremise{  }%
\ottpremise{\ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma}%
}{
\Gamma  \vdash  \ottmv{x} \,  \Rightarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_var}}{}%
}}


\newcommand{\ottdruletypXXann}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}}%
}{
\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \ottnt{A} \,  \Rightarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_ann}}{}%
}}


\newcommand{\ottdruletypXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}} \,  \Rightarrow  \, \ottnt{A}  \rightarrow  \ottnt{B}}%
\ottpremise{\Gamma  \vdash  \ottnt{e_{{\mathrm{2}}}} \,  \Leftarrow  \, \ottnt{A}}%
}{
\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}} \,  \Rightarrow  \, \ottnt{B}}{%
{\ottdrulename{typ\_app}}{}%
}}


\newcommand{\ottdruletypXXchk}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{e} \,  \Rightarrow  \, \ottnt{A}}%
}{
\Gamma  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}}{%
{\ottdrulename{typ\_chk}}{}%
}}


\newcommand{\ottdruletypXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{e} \,  \Leftarrow  \, \ottnt{B}}%
}{
\Gamma  \vdash  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e} \,  \Leftarrow  \, \ottnt{A}  \rightarrow  \ottnt{B}}{%
{\ottdrulename{typ\_abs}}{}%
}}

\newcommand{\ottdefntyping}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{e} \, \ottnt{dirflag} \, \ottnt{A}$}{\ottcom{Typing rules}}
\ottusedrule{\ottdruletypXXlit{}}
\ottusedrule{\ottdruletypXXvar{}}
\ottusedrule{\ottdruletypXXann{}}
\ottusedrule{\ottdruletypXXapp{}}
\ottusedrule{\ottdruletypXXchk{}}
\ottusedrule{\ottdruletypXXabs{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTyping}{
\ottdefntyping{}}

% defns Steping
%% defn step
\newcommand{\ottdrulestepXXbetaXXlit}[1]{\ottdrule[#1]{%
}{
\ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B} \, \ottmv{i}  \longrightarrow  \ottsym{(}  \ottnt{e}  \ottsym{[}  \ottmv{x}  \leadsto  \ottmv{i}  \ottsym{]}  \ottsym{)}  \ottsym{:}  \ottnt{B}}{%
{\ottdrulename{step\_beta\_lit}}{}%
}}


\newcommand{\ottdrulestepXXbetaXXann}[1]{\ottdrule[#1]{%
}{
\ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B} \, \ottsym{(}  \ottnt{e_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{C}  \ottsym{)}  \longrightarrow  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{step\_beta\_ann}}{}%
}}


\newcommand{\ottdrulestepXXbetaXXabs}[1]{\ottdrule[#1]{%
}{
\ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \rightarrow  \ottnt{B} \, \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{)}  \longrightarrow  \ottsym{(}  \ottnt{e}  \ottsym{[}  \ottmv{x}  \leadsto  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{.}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{:}  \ottnt{A}  \ottsym{]}  \ottsym{)}  \ottsym{:}  \ottnt{B}}{%
{\ottdrulename{step\_beta\_abs}}{}%
}}


\newcommand{\ottdrulestepXXappl}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{e_{{\mathrm{1}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}}}%
}{
\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{step\_appl}}{}%
}}


\newcommand{\ottdrulestepXXappr}[1]{\ottdrule[#1]{%
\ottpremise{\ottkw{value} \, \ottnt{e_{{\mathrm{1}}}}}%
\ottpremise{\ottkw{infterm} \, \ottnt{e_{{\mathrm{2}}}}}%
\ottpremise{\ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{2}}}}}%
}{
\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e'_{{\mathrm{2}}}}}{%
{\ottdrulename{step\_appr}}{}%
}}


\newcommand{\ottdrulestepXXannXXann}[1]{\ottdrule[#1]{%
}{
\ottnt{e}  \ottsym{:}  \ottnt{A}  \ottsym{:}  \ottnt{B}  \longrightarrow  \ottnt{e}  \ottsym{:}  \ottnt{B}}{%
{\ottdrulename{step\_ann\_ann}}{}%
}}


\newcommand{\ottdrulestepXXannXXinf}[1]{\ottdrule[#1]{%
\ottpremise{\ottkw{infterm} \, \ottnt{e}}%
}{
\ottnt{e}  \ottsym{:}  \ottnt{A}  \longrightarrow  \ottnt{e}}{%
{\ottdrulename{step\_ann\_inf}}{}%
}}

\newcommand{\ottdefnstep}[1]{\begin{ottdefnblock}[#1]{$\ottnt{e}  \longrightarrow  \ottnt{e'}$}{\ottcom{Small-step operational semantics}}
\ottusedrule{\ottdrulestepXXbetaXXlit{}}
\ottusedrule{\ottdrulestepXXbetaXXann{}}
\ottusedrule{\ottdrulestepXXbetaXXabs{}}
\ottusedrule{\ottdrulestepXXappl{}}
\ottusedrule{\ottdrulestepXXappr{}}
\ottusedrule{\ottdrulestepXXannXXann{}}
\ottusedrule{\ottdrulestepXXannXXinf{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSteping}{
\ottdefnstep{}}

\newcommand{\ottdefnss}{
\ottdefnsValue
\ottdefnsInfterm
\ottdefnsTyping
\ottdefnsSteping
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

